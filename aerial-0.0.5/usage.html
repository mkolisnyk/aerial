<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!-- Generated by Apache Maven Doxia at Feb 21, 2015 -->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <title>Aerial Usage Example</title>
    <style type="text/css" media="all">
      @import url("./css/maven-base.css");
      @import url("./css/maven-theme.css");
      @import url("./css/site.css");
    </style>
    <link rel="stylesheet" href="./css/print.css" type="text/css" media="print" />
      <meta name="author" content="Myk Kolisnyk" />
    <meta name="Date-Creation-yyyymmdd" content="20150126" />
    <meta name="Date-Revision-yyyymmdd" content="20150221" />
    <meta http-equiv="Content-Language" content="en" />
        
        </head>
  <body class="composite">
    <div id="banner">
                    <div id="bannerLeft">
                Aerial
                </div>
                    <div class="clear">
        <hr/>
      </div>
    </div>
    <div id="breadcrumbs">
            
        
                <div class="xleft">
        <span id="publishDate">Last Published: 2015-02-21</span>
                  &nbsp;| <span id="projectVersion">Version: 0.0.5</span>
                      </div>
            <div class="xright">        
        
      </div>
      <div class="clear">
        <hr/>
      </div>
    </div>
    <div id="leftColumn">
      <div id="navcolumn">
             
        
                                <h5>Overview</h5>
                  <ul>
                  <li class="none">
                          <a href="index.html" title="Introduction">Introduction</a>
            </li>
                  <li class="none">
                          <a href="plugin-info.html" title="Goals">Goals</a>
            </li>
                  <li class="none">
            <strong>Usage</strong>
          </li>
                  <li class="none">
                          <a href="faq.html" title="FAQ">FAQ</a>
            </li>
                  <li class="none">
                          <a href="changelog/changelog.html" title="Change Log">Change Log</a>
            </li>
          </ul>
                       <h5>Examples</h5>
                                 <h5>Project Documentation</h5>
                  <ul>
                                                                                                                                                                                                                                                                                            <li class="collapsed">
                          <a href="project-info.html" title="Project Information">Project Information</a>
                  </li>
                                                                                                                                                                                                                                                                                            <li class="collapsed">
                          <a href="project-reports.html" title="Project Reports">Project Reports</a>
                  </li>
          </ul>
                             <a href="http://maven.apache.org/" title="Built by Maven" class="poweredBy">
        <img class="poweredBy" alt="Built by Maven" src="./images/logos/maven-feather.png" />
      </a>
                   
        
            </div>
    </div>
    <div id="bodyColumn">
      <div id="contentBox">
        <ul><li><a href="#Introduction">Introduction</a></li><li><a href="#Write_Requirements_Document">Write Requirements Document</a></li><li><a href="#Implement_Glue_Code">Implement Glue Code</a></li><li><a href="#Include_dependency">Include dependency</a></li><li><a href="#Include_Runner">Include Runner</a></li><li><a href="#Include_Aerial_Information">Include Aerial Information</a></li><li><a href="#Include_Cucumber_Annotations">Include Cucumber Annotations</a></li><li><a href="#Pre-setup_Actions">Pre-setup Actions</a></li></ul><div class="section"><h2>Introduction<a name="Introduction"></a></h2><p>This is an example of using the Aerial for test scenario generation.</p></div><div class="section"><h2>Write Requirements Document<a name="Write_Requirements_Document"></a></h2><p>The iniital input for scenarios generation is the requirements document. Here is the sample of it:</p><div class="source"><pre>This is a sample document
With multiline description

Feature: Sample Feature
    This is a sample feature
    With multiline description

    Case: Sample Test
        This is a sample test case
        With multiline description

        Action:
            Sample action
        Input:
            | Name | Type | Value   |
            | Test | Int  | [0;100) |
        On Success:
            This is what we see on success
        On Failure:
            This is what we see on error
        Pre-requisites:
            These are our pre-requisites
    Additional Scenarios:
    Scenario: Sample Scenario 1
</pre></div><p>More details on requirement definition format can be found at <a class="externalLink" href="http://mkolisnyk.github.io/aerial/user-guide#document-structure">Document Structure section of User Guide</a></p><p>During generation stage this description will be transformed into the following Cucumber representation:</p><div class="source"><pre>Feature:  Sample Feature
    Scenario Outline:  Sample Test positive test
        Given These are our pre-requisites
        When Sample action
        Then This is what we see on success
    Examples:
        | Test | ValidInput |
        | 0 | true  |
        | 50 | true  |
        | 51 | true  |

    Scenario Outline:  Sample Test negative test
        Given These are our pre-requisites
        When Sample action
        Then This is what we see on error
    Examples:
        | Test | ValidInput |
        | 100 | false |
        | -1 | false |
        | 101 | false |



    Scenario: Sample Scenario 1
</pre></div><p>Since our final representation looks like that we should make sure that it is picked up by Cucumber properly. More details on scenario generation algorithms can be found at <a class="externalLink" href="http://mkolisnyk.github.io/aerial/features#scenarios-generated">Scenarios Generated section of Features description page</a></p></div><div class="section"><h2>Implement Glue Code<a name="Implement_Glue_Code"></a></h2><p>We have several Given-When-Then statements we should create glue code for. It's done with the following code:</p><div class="source"><pre>package com.sample.aerial;

import cucumber.api.java.en.Given;
import cucumber.api.java.en.Then;
import cucumber.api.java.en.When;

public class AerialGluCode {

    @Given(&quot;^These are our pre-requisites$&quot;)
    public void theseAreOurPreRequisites() throws Throwable {
    }

    @When(&quot;^Sample action$&quot;)
    public void sampleAction() throws Throwable {
    }

    @Then(&quot;^This is what we see on success$&quot;)
    public void thisIsWhatWeSeeOnSuccess() throws Throwable {
    }

    @Then(&quot;^This is what we see on error$&quot;)
    public void thisIsWhatWeSeeOnError() throws Throwable {
    }
}
</pre></div></div><div class="section"><h2>Include dependency<a name="Include_dependency"></a></h2><p>Before going to test runner settings we should include Aerial Maven dependency:</p><div class="source"><pre>&lt;project&gt;
  ...
  &lt;build&gt;
    &lt;dependencies&gt;
      .....
      &lt;dependency&gt;
        &lt;groupId&gt;com.github.mkolisnyk&lt;/groupId&gt;
        &lt;artifactId&gt;aerial&lt;/artifactId&gt;
        &lt;version&gt;0.0.2&lt;/version&gt;
      &lt;/dependency&gt;
    &lt;dependencies&gt;
    ......
  &lt;/build&gt;
  ...
&lt;/project&gt;
</pre></div></div><div class="section"><h2>Include Runner<a name="Include_Runner"></a></h2><p>Then we should define test runner which is going to be used together with JUnit. For this purpose there is <b>@RunWith(AerialRunner.class)</b> annotation. So, initially test class looks like this:</p><div class="source"><pre>package com.github.mkolisnyk.aerial;

import org.junit.runner.RunWith;

import com.github.mkolisnyk.aerial.annotations.Aerial;
import com.github.mkolisnyk.aerial.core.AerialRunner;
import com.github.mkolisnyk.aerial.core.params.AerialSourceType;

import cucumber.api.CucumberOptions;

@RunWith(AerialRunner.class)
public class AerialRunnerTest {
}
</pre></div></div><div class="section"><h2>Include Aerial Information<a name="Include_Aerial_Information"></a></h2><p>Next step is to add Aerial generation settings. This is done using <b>@Aerial</b> annotation where we define where requirement documents are taken from and where generated files should be dropped to:</p><div class="source"><pre>package com.github.mkolisnyk.aerial;

import org.junit.runner.RunWith;
import com.github.mkolisnyk.aerial.annotations.Aerial;
import com.github.mkolisnyk.aerial.core.AerialRunner;
import com.github.mkolisnyk.aerial.core.params.AerialSourceType;
import cucumber.api.CucumberOptions;

@Aerial(
    inputType = AerialSourceType.FILE,
    source = &quot;src/test/resources&quot;,
    additionalParams = { &quot;&quot; },
    destination = &quot;output/&quot;)
@RunWith(AerialRunner.class)
public class AerialRunnerTest {
}
</pre></div></div><div class="section"><h2>Include Cucumber Annotations<a name="Include_Cucumber_Annotations"></a></h2><p>In the end we should add Cucumber annotations to point JUnit to resources generated by Aerial:</p><div class="source"><pre>package com.github.mkolisnyk.aerial;

import org.junit.runner.RunWith;
import com.github.mkolisnyk.aerial.annotations.Aerial;
import com.github.mkolisnyk.aerial.core.AerialRunner;
import com.github.mkolisnyk.aerial.core.params.AerialSourceType;
import cucumber.api.CucumberOptions;

@CucumberOptions(
        format = {&quot;html:target/cucumber-html-report&quot;,
                  &quot;json:target/cucumber.json&quot;,
                  &quot;pretty:target/cucumber-pretty.txt&quot;,
                  &quot;usage:target/cucumber-usage.json&quot;
                 },
        features = {&quot;output/&quot; },
        glue = {&quot;com/github/mkolisnyk/aerial&quot; },
        tags = { }
)
@Aerial(
    inputType = AerialSourceType.FILE,
    source = &quot;src/test/resources&quot;,
    additionalParams = { &quot;&quot; },
    destination = &quot;output/&quot;)
@RunWith(AerialRunner.class)
public class AerialRunnerTest {
}
</pre></div></div><div class="section"><h2>Pre-setup Actions<a name="Pre-setup_Actions"></a></h2><p>Additionally we may define actions which are supposed to be done prior tests generation and/or in the end of entire suite execution. For this purpose we should mark appropriate methods with <b>@AerialBeforeSuite</b> and <b>@AerialAfterSuite</b> annotations respectively:</p><div class="source"><pre>package com.github.mkolisnyk.aerial;

import org.junit.runner.RunWith;
import com.github.mkolisnyk.aerial.annotations.Aerial;
import com.github.mkolisnyk.aerial.core.AerialRunner;
import com.github.mkolisnyk.aerial.core.params.AerialSourceType;
import cucumber.api.CucumberOptions;

@CucumberOptions(
        format = {&quot;html:target/cucumber-html-report&quot;,
                  &quot;json:target/cucumber.json&quot;,
                  &quot;pretty:target/cucumber-pretty.txt&quot;,
                  &quot;usage:target/cucumber-usage.json&quot;
                 },
        features = {&quot;output/&quot; },
        glue = {&quot;com/github/mkolisnyk/aerial&quot; },
        tags = { }
)
@Aerial(
    inputType = AerialSourceType.FILE,
    source = &quot;src/test/resources&quot;,
    additionalParams = { &quot;&quot; },
    destination = &quot;output/&quot;)
@RunWith(AerialRunner.class)
public class AerialRunnerTest {
    @AerialBeforeSuite
    public static void setUp() {
        System.out.println(&quot;setUp&quot;);
    }
    @AerialAfterSuite
    public static void tearDown() {
        System.out.println(&quot;tearDown&quot;);
    }
}
</pre></div></div>
      </div>
    </div>
    <div class="clear">
      <hr/>
    </div>
    <div id="footer">
      <div class="xright">
              Copyright &#169;                   2013-2015.
          All Rights Reserved.      
        
                  </div>
      <div class="clear">
        <hr/>
      </div>
    </div>
  </body>
</html>
